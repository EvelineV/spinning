<div class="container">
    <h2>Spin to the crimp</h2>
    <form (ngSubmit)="onSubmit()">
        <div class="form-group">
            <label for="cpi">Crimps per inch
              <app-tooltip
                label="(CPI)"
                text="(this measurement is always in inches)"
              ></app-tooltip>
            </label>
            <input type="number" class="form-control" id="cpi" min=0 max=100 value=5 required [(ngModel)]="model.cpi"
                name="cpi" (change)="resetSubmitted()">
        </div>

        <div class="form-group">
            <label for="singles_ratio">Wheel ratio for singles</label>
            <input type="number" class="form-control" id="singles_ratio" min=0 max=100 value=17 required
                [(ngModel)]="model.singles_ratio" name="singles_ratio" (change)="resetSubmitted()">
        </div>

        <div class="form-group">
            <label for="ply_ratio">Wheel ratio for plying</label>
            <input type="number" class="form-control" id="ply_ratio" min=0 max=100 value=17 required
                [(ngModel)]="model.ply_ratio" name="ply_ratio" (change)="resetSubmitted()">
        </div>

        <div class="form-group">
            <label for="draft_distance">Drafting distance (cm) for singles</label>
            <input type="number" class="form-control" id="draft_distance" min=0 max=100 value=17 required
                [(ngModel)]="model.draft_distance" name="draft_distance" (change)="resetSubmitted()">
        </div>

        <div class="form-group">
            <label for="ply_distance">Plying distance (cm)</label>
            <input type="number" class="form-control" id="ply_distance" min=0 max=100 value=12 required
                [(ngModel)]="model.ply_distance" name="ply_distance" (change)="resetSubmitted()">
        </div>

        <div class="form-group">
            <label for="num_ply">Number of plies</label><br>
            <select id="num_ply" type="number" [(ngModel)]="model.num_ply" name="num_ply" required (change)="resetSubmitted()">
                <option value=2 selected="selected">2</option>
                <option value=3>3</option>
            </select>
        </div>

        <div class="form-group">
            <label for="system_ply">Plying system</label><br>
            <select id="system_ply" type="string" [(ngModel)]="model.system_ply" name="system_ply" required (change)="resetSubmitted()">
                <option value="ross" selected="selected">Mabel Ross (balanced weaving yarn)</option>
                <option value="field">Anne Field (soft knitting yarn)</option>
            </select>
        </div>
        <button type="submit">Calculate!</button>

    </form>

    <p id="results" *ngIf="results">
        You need <span id="treadles_singles">{{ results.treadles_singles.toFixed(1) }}</span> treadles per drafting
        distance
        in the singles.
        You need <span id="treadles_plying">{{ results.treadles_plying.toFixed(1) }}</span> treadles per plying
        distance. Don't forget to round up because you will lose some twist in the finishing. This will give you a TPI
        equal to CPI. Your BPI will be <span id="bpi">{{results.bpi}}</span>.<br>
        <i>These values do not update automatically. If you change input values, please press the "calculate" button again.</i>
    </p>

    <p><i>
        Spinning to the crimp is explained on <a href="https://www.youtube.com/watch?v=KOLCEYHZZUs">Wool 'n' Spinning Livestream Episode 207</a> and also on one of her<a href="https://www.patreon.com/posts/spinning-purls-61296606">"teaching content" episodes on Patreon</a>.
    </i></p>
</div>
